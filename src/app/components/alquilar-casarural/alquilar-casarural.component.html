<div class="navbar navbar-expand-lg navbar-dark bg-success personnavbar">
    <div>
        <h5 class="icono">
          Alrur
        </h5>
      </div>
  <div class="mx-auto center" >
    <h1 style="float: left">{{ alojamiento.nombre }}</h1> <span style="bottom: 0;">({{ alojamiento.municipio }}, {{alojamiento.provincia}})</span>
    
  </div>

  <div style="margin-left: 10%; cursor: pointer;" *ngIf="token != ''" (click)="cerrarSesion()">
    <h5>cerrar sesión</h5>
  </div>
</div>

<div class="persondiv">
  <div class="personcarousel">
<mdb-carousel [isControls]="true" class="carousel slide carousel-fade w-100  center" [animation]="'fade'">
  <mdb-carousel-item *ngFor="let imagen of imagenes">
      <img class="d-block personimage" [src]="imagen.imagen">
      <div class="mask rgba-black-light waves-light" mdbWavesEffect></div>
  </mdb-carousel-item>
</mdb-carousel>
</div>

<div class="formdisp">  
    <div class="navbar navbar-expand-lg navbar-dark bg-success personnavbar2">
        <div class="mx-auto center" >
          <h5>Contactar</h5> 
        </div>
      </div>
      <div style="margin-top: 30px;">
        <form [formGroup]="formdisp" (ngSubmit)="consultarDisp()">
            <mat-form-field class="center">
                <input matInput placeholder="DNI*" formControlName="dni" class="input">
            </mat-form-field>
            <mat-form-field class="center">
                <input type="number" matInput placeholder="Teléfono*" formControlName="telefono" class="input">
            </mat-form-field>
            <mat-form-field class="center">
                <input matInput placeholder="Dirección*" formControlName="direccion" class="input">
            </mat-form-field>
            <mat-form-field class="center">
                <input matInput placeholder="Localidad*" formControlName="localidad" class="input">
            </mat-form-field>
            <mat-form-field class="center">
                <input type="number" matInput placeholder="CP*" formControlName="cp" class="input">
            </mat-form-field>
            <mat-form-field class="center">
                <input type="number" matInput placeholder="Ocupantes*" formControlName="plazas" class="input">
            </mat-form-field>
      <mat-form-field class="center">
          <input matInput [matDatepicker]="fechaentrada" placeholder="Fecha de entrada*" formControlName="fechaentrada">
          <mat-datepicker-toggle matSuffix [for]="fechaentrada"></mat-datepicker-toggle>
          <mat-datepicker #fechaentrada disabled="false"></mat-datepicker>
      </mat-form-field>
        
        <mat-form-field class="center">
          <input  matInput [matDatepicker]="fechasalida" placeholder="Fecha de salida*" formControlName="fechasalida">
          <mat-datepicker-toggle matSuffix [for]="fechasalida"></mat-datepicker-toggle>
          <mat-datepicker #fechasalida disabled="false"></mat-datepicker>
        </mat-form-field>
      <div *ngIf="comparaFechas" class="fallo-formulario center">
        *Fechas no válidas
    </div>

        <mat-form-field class="example-full-width center">
          <textarea matInput placeholder="Comentarios" formControlName="comentario" ></textarea>
        </mat-form-field>
        <div class="center" style="margin-top: 30px;">
        <button mat-button type="submit">
            Enviar
        </button>
      </div>
      </form>
      <div class="center" style="margin-top: 20px;" *ngIf="submitted">
      <h6 class="fallo-formulario center">*Estos campos son obligatorios</h6>
      </div>
      </div>
      
</div>

  <div class="datos center">
    <mat-card class="card">
      <mat-card-title class="center cardtittle">
        Precio
      </mat-card-title>
      <mat-card-content class="center" style="margin-top: 20px">
        <h5>{{ alojamiento.precio }} €</h5>
      </mat-card-content>
    </mat-card>
    <mat-card class="card" style="margin-left: 10%;">
      <mat-card-title class="center cardtittle">
        Capacidad
      </mat-card-title>
      <mat-card-content class="center" style="margin-top: 20px">
        <h5>{{ alojamiento.plazas }} plazas</h5>
      </mat-card-content>
    </mat-card>
    <mat-card class="card" style="margin-left: 10%;">
    <mat-card-title class="center cardtittle">
      Teléfono
    </mat-card-title>
    <mat-card-content class="center">
      <h5>{{ alojamiento.telefono }}</h5>
    </mat-card-content>
    <mat-card-content class="center" *ngIf="alojamiento.telefono2">
        <h5>{{ alojamiento.telefono2 }}</h5>
      </mat-card-content>
    </mat-card>
  </div>

  <div class="descripcion">
      <p [innerHTML]="alojamiento.descripcion">
      </p>
      <mat-divider></mat-divider>
  </div>


  <div class="descripcion" style="margin-top: 20px">
      <h3>Opiniones:</h3>
      <form [formGroup]="formcom" (ngSubmit)="publicarComentario()">
          <mat-form-field style="width: 100%;">
            <textarea  rows="10" maxlength="300" matInput placeholder="Deja un comentario" formControlName="comentario"></textarea>
          </mat-form-field>
          <button mat-button type="submit" style="width: 100%">
              Publicar comentario
          </button>
        </form>
        
  </div>
  
  <div class="descripcion" style="margin-top: 20px">
      <mat-divider></mat-divider>
      <div class="comentario" *ngFor="let comentario of comentarios">
        <div style="width: 15%; float: left;" class="center">
          <table style="margin-top: 40px">
            <tr><td>
              <h5>{{ comentario.nombre }}</h5>
            </td></tr>
            <tr><td>
              <h5>{{ comentario.apellidos }}</h5>
            </td></tr>
        </table>
        </div>
        <div style="width: 85%; float: right; margin-top: 20px" class="center">
            <P>{{ comentario.opinion }}</P>
        </div>
        <div style="width: 120px; right: 0; bottom: 0; position: absolute;" class="center">
            <P>{{ comentario.fecha | date:'dd-MM-yyyy' }}</P>
            </div>
      </div>
  </div>
</div>


  

